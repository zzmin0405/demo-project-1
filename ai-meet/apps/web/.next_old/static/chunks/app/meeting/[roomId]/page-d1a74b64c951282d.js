(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{1651:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=r(284),a=r(5232),s=r(5250);let o=a.forwardRef((e,t)=>{let{className:r,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-12 w-full rounded-md border border-input bg-background px-4 py-3 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});o.displayName="Input"},2051:(e,t,r)=>{"use strict";r.d(t,{default:()=>D});var n=r(284),a=r(5232),s=r(6297),o=r(4966),l=r(7722),c=r(8716),i=r(7493),d=r(1822),u=r(8173),m=r(587),f=r(6649),h=r(932),g=r(394),x=r(9422),p=r(3634),v=r(2718),b=r(1990),j=r(7017),w=r(4714),y=r(1651),N=r(5250),k=r(7157),C=r(509);function S(e){let{messages:t,currentUserId:r,newMessage:s,onNewMessageChange:o,onSendMessage:l,onClose:d}=e,u=(0,a.useRef)(null),m=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e;null==(e=m.current)||e.focus()},[]),(0,a.useEffect)(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[t]),(0,n.jsxs)("div",{className:"flex flex-col h-full bg-card w-full shadow-xl transition-all duration-300",children:[(0,n.jsxs)("div",{className:"p-4 border-b flex justify-between items-center bg-secondary/20",children:[(0,n.jsx)("h3",{className:"font-bold text-lg",children:"Chat"}),(0,n.jsx)(i.$,{variant:"ghost",size:"icon",onClick:d,children:(0,n.jsx)(k.A,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",ref:u,children:[0===t.length&&(0,n.jsx)("div",{className:"text-center text-muted-foreground text-sm py-10",children:"No messages yet. Start the conversation!"}),t.map((e,t)=>{var a,s;let o=e.userId===r;return(0,n.jsxs)("div",{className:(0,N.cn)("flex gap-2",o?"flex-row-reverse":"flex-row"),children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:e.avatar_url?(0,n.jsx)(c.default,{src:e.avatar_url,alt:e.username,width:32,height:32,className:"rounded-full object-cover border border-border"}):(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold text-primary border border-border",children:null==(s=e.username)||null==(a=s[0])?void 0:a.toUpperCase()})}),(0,n.jsxs)("div",{className:(0,N.cn)("flex flex-col max-w-[80%]",o?"items-end":"items-start"),children:[(0,n.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,n.jsx)("span",{className:"text-xs font-semibold text-foreground",children:e.username}),(0,n.jsx)("span",{className:"text-[10px] text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,n.jsx)("div",{className:(0,N.cn)("px-3 py-2 rounded-lg text-sm break-words shadow-sm",o?"bg-blue-600 text-white rounded-tr-none":"bg-gray-200 text-gray-900 dark:bg-gray-800 dark:text-gray-100 rounded-tl-none"),children:e.message})]})]},t)})]}),(0,n.jsx)("div",{className:"p-4 border-t bg-secondary/10",children:(0,n.jsxs)("form",{onSubmit:l,className:"flex gap-2",children:[(0,n.jsx)(y.p,{ref:m,value:s,onChange:e=>o(e.target.value),placeholder:"Type a message...",className:"flex-1"}),(0,n.jsx)(i.$,{type:"submit",size:"icon",disabled:!s.trim(),onMouseDown:e=>e.preventDefault(),children:(0,n.jsx)(C.A,{className:"w-4 h-4"})})]})})]})}var I=r(7190),E=r(4698),M=r(7721);let R=e=>{var t,r;let{participant:s,isLocal:o,isPinned:l,className:d,localVideoOn:u,localStream:m,isMuted:f,onPin:h,setLocalVideoRef:p,onRemoteVideoRef:v}=e;console.log("[ParticipantCard] Render ".concat(s.userId," isLocal=").concat(o," localVideoOn=").concat(u," hasVideo=").concat(s.hasVideo));let b=(0,a.useRef)(null);return(0,a.useEffect)(()=>{o&&b.current&&console.log("[ParticipantCard] Local Video Ref State: srcObject=".concat(!!b.current.srcObject,", paused=").concat(b.current.paused,", readyState=").concat(b.current.readyState,", style.display=").concat(b.current.style.display))}),(0,a.useEffect)(()=>{!o&&b.current&&v&&(b.current.srcObject=null,v(s.userId,b.current))},[o,s.userId,v]),(0,n.jsxs)("div",{className:(0,N.cn)("relative group bg-muted rounded-lg overflow-hidden border border-border shadow-sm transition-all",d),children:[(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center bg-black/90",children:[o?(0,n.jsx)("video",{ref:e=>{p&&p(e),b.current=e,e&&m&&(e.srcObject=m,e.muted=!0)},autoPlay:!0,muted:!0,playsInline:!0,className:(0,N.cn)("w-full h-full object-contain",u?"block":"hidden")},"local-video"):(0,n.jsx)("video",{ref:e=>{e&&(b.current=e)},autoPlay:!0,playsInline:!0,className:(0,N.cn)("w-full h-full object-contain",s.hasVideo?"block":"hidden"),style:{display:s.hasVideo?"block":"none"}},"remote-video"),(o&&(!u||!m)||!o&&!s.hasVideo)&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:s.avatar_url?(0,n.jsx)(c.default,{src:s.avatar_url,alt:s.username,width:120,height:120,className:"rounded-full object-cover border-4 border-background/20"}):(0,n.jsx)("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-primary/20 flex items-center justify-center text-4xl font-bold text-primary",children:null==(r=s.username)||null==(t=r[0])?void 0:t.toUpperCase()})})]}),(0,n.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/60 px-2 py-1 rounded text-xs md:text-sm text-white font-medium backdrop-blur-sm flex items-center gap-2",children:[(0,n.jsxs)("span",{children:[s.username," ",o&&"(You)"]}),(o?f:s.isMuted)?(0,n.jsx)(g.A,{className:"w-3 h-3 text-red-400"}):(0,n.jsx)(x.A,{className:"w-3 h-3 text-green-400"})]}),(0,n.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-[1px]",children:!o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.$,{size:"icon",variant:l?"default":"secondary",className:"rounded-full w-10 h-10",onClick:()=>null==h?void 0:h(s.userId),title:l?"Unpin":"Pin",children:l?(0,n.jsx)(I.A,{className:"w-4 h-4"}):(0,n.jsx)(E.A,{className:"w-4 h-4"})}),(0,n.jsx)(i.$,{size:"icon",variant:"destructive",className:"rounded-full w-10 h-10",title:"Mute (Host only)",children:(0,n.jsx)(g.A,{className:"w-4 h-4"})}),(0,n.jsx)(i.$,{size:"icon",variant:"destructive",className:"rounded-full w-10 h-10",title:"Kick (Host only)",children:(0,n.jsx)(M.A,{className:"w-4 h-4"})})]})})]})},V=[{emoji:"\uD83D\uDC4D",label:"Thumbs Up"},{emoji:"❤️",label:"Love"},{emoji:"\uD83D\uDE02",label:"Joy"},{emoji:"\uD83D\uDE2E",label:"Wow"},{emoji:"\uD83D\uDE22",label:"Sad"},{emoji:"\uD83C\uDF89",label:"Tada"}];function A(e){let{onReaction:t,className:r}=e;return(0,n.jsx)("div",{className:(0,N.cn)("flex items-center gap-2 p-2 rounded-full bg-background/80 backdrop-blur-md border shadow-lg animate-in slide-in-from-bottom-5 fade-in duration-300",r),children:V.map(e=>(0,n.jsx)(i.$,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-secondary hover:scale-110 transition-all text-xl",onClick:()=>t(e.emoji),title:e.label,children:e.emoji},e.label))})}function O(e){let{reactions:t}=e;return(0,n.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-50",children:t.map(e=>(0,n.jsx)(T,{emoji:e.emoji},e.id))})}function T(e){let{emoji:t}=e,[r,s]=(0,a.useState)({left:"".concat(80*Math.random()+10,"%"),bottom:"100px",opacity:1,transform:"translateY(0) scale(1)"});return(0,a.useEffect)(()=>{requestAnimationFrame(()=>{s(e=>({...e,bottom:"80%",opacity:0,transform:"translateY(0) scale(".concat(1.5+Math.random(),") rotate(").concat(45*Math.random()-22.5,"deg)"),transition:"all 2s ease-out"}))})},[]),(0,n.jsx)("div",{className:"absolute text-4xl select-none transition-all duration-1000 ease-out",style:r,children:t})}var z=r(7607);function D(e){var t,r,k,C,I,E,M,V,T,D,L,_,U,$;let{roomId:P}=e,B=(0,s.useRouter)(),{data:F,status:W}=(0,l.useSession)(),G=(null==F||null==(t=F.user)?void 0:t.id)||(null==F||null==(r=F.user)?void 0:r.email)||"anonymous",[J,q]=(0,a.useState)([]),[H,Y]=(0,a.useState)(null),[K,Q]=(0,a.useState)(!1),[X,Z]=(0,a.useState)(!0),[ee,et]=(0,a.useState)(null),[er,en]=(0,a.useState)([]),[ea,es]=(0,a.useState)([]),[eo,el]=(0,a.useState)(null),[ec,ei]=(0,a.useState)([]),[ed,eu]=(0,a.useState)(null),[em,ef]=(0,a.useState)(.8),[eh,eg]=(0,a.useState)(1),[ex,ep]=(0,a.useState)("Meeting Room"),[ev,eb]=(0,a.useState)(!1),[ej,ew]=(0,a.useState)(!1),[ey,eN]=(0,a.useState)(""),[ek,eC]=(0,a.useState)([]),[eS,eI]=(0,a.useState)("speaker"),[eE,eM]=(0,a.useState)(null),[eR,eV]=(0,a.useState)(!1),[eA,eO]=(0,a.useState)(!1);(0,a.useRef)(null);let eT=(0,a.useRef)(null),[ez,eD]=(0,a.useState)(!1),[eL,e_]=(0,a.useState)([]),[eU,e$]=(0,a.useState)(""),eP=(0,a.useRef)(null),eB=(0,a.useRef)(null),eF=(0,a.useRef)(null),eW=(0,a.useRef)(null),eG=(0,a.useRef)({}),eJ=(0,a.useRef)({}),eq=(0,a.useRef)({}),eH=(0,a.useRef)(!1),eY=(0,a.useRef)(null),eK=(0,a.useRef)(null),eQ=(0,a.useRef)(null),eX=(0,a.useRef)(null),eZ=(0,a.useRef)({}),e0=(0,a.useRef)({}),e2=(0,a.useRef)({}),e1=(0,a.useRef)({}),[e4,e5]=(0,a.useState)(!1),[e3,e8]=(0,a.useState)(!1),[e6,e9]=(0,a.useState)(!1),[e7,te]=(0,a.useState)(!1);(0,a.useEffect)(()=>{{let e=sessionStorage.getItem("meeting-settings-".concat(P));if(e)try{let t=JSON.parse(e);void 0!==t.joinMuted&&Z(t.joinMuted),void 0!==t.joinVideoOff&&Q(!t.joinVideoOff)}catch(e){console.error("Failed to parse meeting settings",e)}}},[P]),(0,a.useEffect)(()=>{eP.current&&(eP.current.scrollTop=eP.current.scrollHeight)},[eL,ez]),(0,a.useEffect)(()=>{te("true"===localStorage.getItem("exitImmediately"))},[]),(0,a.useEffect)(()=>{if("loading"!==W){if(!(null==F?void 0:F.user)){console.log("Client: No user found, redirecting to login."),B.push("/login");return}if(!eH.current)return eH.current=!0,(async()=>{var e,t,r;console.log("Client: Initializing...");let n=F.user.id||(null==(e=F.user)?void 0:e.email)||"unknown";console.log("Client: currentUser set to",n);let a=(null==(t=F.user)?void 0:t.name)||(null==(r=F.user)?void 0:r.email)||"Anonymous";try{console.log("Client: Enumerating media devices...");let e=await navigator.mediaDevices.enumerateDevices();en(e.filter(e=>"videoinput"===e.kind)),es(e.filter(e=>"audioinput"===e.kind)),ei(e.filter(e=>"audiooutput"===e.kind))}catch(e){console.error("Error enumerating devices:",e)}let s=z.env.NEXT_PUBLIC_WEBSOCKET_URL||"http://localhost:3001";console.log("Client: Connecting to WebSocket at",s),eT.current=(0,o.io)(s,{transports:["websocket","polling"],auth:{token:n,userId:n},reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,timeout:2e4,autoConnect:!1});let l=eT.current;l.on("connect_error",e=>{console.error("[SocketDebug] Connection Error: ".concat(e.message),e)}),l.on("connect_timeout",e=>{console.error("[SocketDebug] Connection Timeout: ".concat(e))}),l.on("error",e=>{console.error("[SocketDebug] Generic Error:",e)}),l.on("connect",()=>{var e;console.log("Client: Connected to WebSocket server with socketId:",l.id);let t=!1,r=!0;{let e=sessionStorage.getItem("meeting-settings-".concat(P));if(e){let n=JSON.parse(e);void 0!==n.joinVideoOff&&(t=!n.joinVideoOff),void 0!==n.joinMuted&&(r=n.joinMuted)}}l.emit("join-room",{roomId:P,username:a,avatar_url:null==(e=F.user)?void 0:e.image,hasVideo:t,isMuted:r}),ta(t,r,!0)}),l.on("room-state",async e=>{console.log("Client: room-state received",e);let t=e.participants.filter(e=>e.userId!==n);e.title&&ep(e.title),e.hostId&&e.hostId===n&&(eb(!0),console.log("Client: You are the host.")),e.participants.forEach(e=>{e.userId!==n&&(eJ.current[e.socketId]=e.userId,eq.current[e.userId]=e.socketId)}),q(t)}),l.on("user-joined",async e=>{if(console.log("Client: New user ".concat(e.username," joined with socketId ").concat(e.socketId,".")),e.userId===n)return;let t=eq.current[e.userId];t&&(console.log("[UserJoined] Cleaning up stale resources for ".concat(e.userId," (Old Socket: ").concat(t,")")),tn(t),delete eJ.current[t]);let r={...e};eJ.current[e.socketId]=e.userId,eq.current[e.userId]=e.socketId,q(t=>[...t.filter(t=>t.userId!==e.userId),r]),eF.current&&K&&(console.log("[UserJoined] Restarting MediaRecorder to send fresh Init Segment to ".concat(e.username)),tt(eF.current))}),l.on("user-left",e=>{console.log("Client: User ".concat(e.userId," left"));let t=eq.current[e.userId];t&&(tn(t),delete eJ.current[t],delete eq.current[e.userId]),q(t=>t.filter(t=>t.userId!==e.userId))}),l.on("media-chunk",async e=>{let{socketId:t,chunk:r,mimeType:a='video/webm; codecs="vp8, opus"'}=e,s=e.userId;console.log("[MediaChunk] Received from ".concat(t," (User: ").concat(s,"), size: ").concat(r.byteLength||r.length));let o=new Blob([r],{type:a});if(!s||s===n||(eJ.current[t]=s,eq.current[s]=t,eZ.current[t]&&"closed"!==eZ.current[t].readyState||(eZ.current[t]&&(console.log("[MediaChunk] MediaSource for ".concat(t," is closed, recreating...")),tn(t)),tr(s,t,a)),s===n))return;let l=e0.current[t],c=eZ.current[t];if(!l){e2.current[t]||(e2.current[t]=[]),e2.current[t].push(o);return}if(!l.updating&&c&&"open"===c.readyState)try{l.appendBuffer(await o.arrayBuffer())}catch(e){e instanceof DOMException&&"InvalidStateError"===e.name?console.warn("Ignored InvalidStateError for ".concat(t," (likely cleanup race condition)")):console.error("Error appending buffer for ".concat(t),e)}else e2.current[t]||(e2.current[t]=[]),e2.current[t].push(o)}),l.on("mic-state-changed",e=>{q(t=>t.map(t=>t.userId===e.userId?{...t,isMuted:e.isMuted}:t))}),l.on("camera-state-changed",e=>{console.log("[Client] Camera state changed for userId=".concat(e.userId,", hasVideo=").concat(e.hasVideo,", currentUserId=").concat(n)),q(t=>{let r=t.map(t=>t.userId===e.userId?{...t,hasVideo:e.hasVideo}:t);return console.log("[Client] Updated participants:",r.map(e=>({userId:e.userId,username:e.username,hasVideo:e.hasVideo}))),r})}),l.on("chat-message",e=>{e_(t=>[...t,e])}),l.on("meeting-title-updated",e=>{ep(e.title)}),l.on("reaction-received",e=>{let t={id:Math.random().toString(36).substr(2,9),emoji:e.emoji,userId:e.userId};eC(e=>[...e,t]),setTimeout(()=>{eC(e=>e.filter(e=>e.id!==t.id))},2e3)}),l.on("chat-error",e=>{if(console.error("[ChatDebug] Chat error received:",e.message),e.message.includes("Room not found")||e.message.includes("Participant not found")){var t;console.log("[ChatDebug] Room/Participant missing on server. Attempting to re-join..."),l.emit("join-room",{roomId:P,username:a,avatar_url:null==(t=F.user)?void 0:t.image,hasVideo:K,isMuted:X})}else alert("채팅 전송 실패: ".concat(e.message))}),l.on("disconnect",e=>{console.log("Client: Disconnected from WebSocket server",e)}),l.on("connect_error",e=>{console.error("Client: WebSocket connection error",e)}),l.on("error",e=>{console.error("Client: Socket error:",e.message),alert(e.message),B.push("/")}),console.log("Client: Calling socket.connect()..."),l.connect()})(),()=>{eH.current=!1,eT.current&&(console.log("Client: Disconnecting socket on cleanup"),eT.current.disconnect(),eT.current=null),Object.keys(eZ.current).forEach(e=>{tn(e)}),eF.current&&eF.current.getTracks().forEach(e=>e.stop()),eY.current&&eY.current.close()}}},[P,W,G]),(0,a.useEffect)(()=>{let e=()=>{var e;fetch("/api/meeting/".concat(P,"/leave"),{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"}}),null==(e=eT.current)||e.disconnect()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e),e()}},[P]),(0,a.useEffect)(()=>{(async()=>{ed&&Object.values(eG.current).forEach(e=>{if(e&&"function"==typeof e.setSinkId)try{e.setSinkId(ed)}catch(e){console.error("Error setting audio output:",e)}})})()},[ed]),(0,a.useEffect)(()=>{Object.values(eG.current).forEach(e=>{e&&(e.volume=em)})},[em,J]),(0,a.useEffect)(()=>{eK.current&&(eK.current.gain.value=eh)},[eh]),(0,a.useEffect)(()=>{console.log("[useEffect srcObject] Triggered. localStream:",!!H,"localVideoRef.current:",!!eB.current,"localVideoOn:",K),H&&eB.current&&(console.log("[useEffect srcObject] Setting srcObject..."),eB.current.srcObject=H,eB.current.muted=!0,console.log("[useEffect srcObject] srcObject set successfully"))},[H,K]);let tt=e=>{if(eW.current&&eW.current.stop(),eT.current&&e){let t=e.getVideoTracks().length>0,r="video/webm; codecs=vp8,opus";if(t){for(let e of["video/webm; codecs=vp8,opus","video/webm; codecs=vp9,opus","video/webm; codecs=h264,opus","video/mp4; codecs=h264,aac"])if(MediaRecorder.isTypeSupported(e)){r=e;break}}else r="audio/webm; codecs=opus";console.log("Client: Setting up MediaRecorder with mimeType: ".concat(r));let n={mimeType:r};try{let t=new MediaRecorder(e,n);t.ondataavailable=e=>{e.data&&e.data.size>0&&eT.current&&eT.current.emit("media-chunk",{chunk:e.data,mimeType:r})},eW.current=t,t.start(100),console.log("Client: MediaRecorder started with 100ms intervals")}catch(e){console.error("MediaRecorder setup failed:",e)}}},tr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'video/webm; codecs="vp8, opus"';if(eZ.current[t]||!eG.current[e])return;console.log("Setting up MediaSource for userId: ".concat(e,", socketId: ").concat(t," with mimeType: ").concat(r));let n=new MediaSource;eZ.current[t]=n;let a=eG.current[e];if(a){let e=URL.createObjectURL(n);e1.current[t]=e,a.src=e,a.onloadedmetadata=()=>a.play().catch(e=>console.error("Autoplay failed",e))}n.addEventListener("sourceopen",async()=>{console.log("MediaSource opened for ".concat(t));try{var e;if(!MediaSource.isTypeSupported(r))return void console.error("".concat(r," is not supported"));let s=n.addSourceBuffer(r);if(e0.current[t]=s,s.addEventListener("updateend",async()=>{var e;if(s.buffered.length>0&&!s.updating){let e=eJ.current[t],r=e?eG.current[e]:null,n=(null==r?void 0:r.currentTime)||0,a=s.buffered.start(0);if(s.buffered.end(s.buffered.length-1),n-a>20)try{let e=Math.max(a,n-20);s.remove(a,e),console.log("[Buffer] Pruned old data for ".concat(t,": ").concat(a.toFixed(2),"s to ").concat(e.toFixed(2),"s"));return}catch(e){console.warn("[Buffer] Failed to prune for ".concat(t),e)}}if(s.buffered.length>1&&a){let e=a.currentTime;for(let r=0;r<s.buffered.length-1;r++){let n=s.buffered.end(r),o=s.buffered.start(r+1);if(e>=n-.5&&e<o){console.log("[Gap] Jumping from ".concat(e.toFixed(2)," to ").concat(o.toFixed(2)," for ").concat(t)),a.currentTime=o;break}}}if((null==(e=e2.current[t])?void 0:e.length)>0&&!s.updating&&"open"===n.readyState){let e=e2.current[t][0];if(e)try{let r=await e.arrayBuffer();s.appendBuffer(r),e2.current[t].shift()}catch(e){if("QuotaExceededError"===e.name){if(console.warn("[Buffer] QuotaExceededError for ".concat(t,". Aggressively pruning...")),s.buffered.length>0){let e=s.buffered.start(0),t=(null==a?void 0:a.currentTime)||e,r=Math.max(e+5,t-5);if(!s.updating)try{s.remove(e,r),console.log("[Buffer] Emergency prune: ".concat(e," to ").concat(r))}catch(e){console.error("[Buffer] Emergency prune failed",e)}}e2.current[t].shift()}else e instanceof DOMException&&"InvalidStateError"===e.name?console.warn("Ignored InvalidStateError in queue for ".concat(t)):console.error("Error appending queued buffer for ".concat(t),e),e2.current[t].shift()}}}),(null==(e=e2.current[t])?void 0:e.length)>0&&!s.updating&&"open"===n.readyState){let e=e2.current[t].shift();if(e)try{s.appendBuffer(await e.arrayBuffer())}catch(e){console.error("Error appending initial queued buffer for ".concat(t),e)}}}catch(e){console.error("Error adding source buffer:",e)}})},tn=e=>{console.log("Cleaning up MediaSource for ".concat(e));let t=eZ.current[e];if(t&&"open"===t.readyState)try{t.endOfStream()}catch(t){console.error("Error ending stream for ".concat(e),t)}let r=eJ.current[e];if(r&&eG.current[r]){let e=eG.current[r];if(e){let t=e.src;t&&t.startsWith("blob:")&&URL.revokeObjectURL(t),e.src="",e.removeAttribute("src"),e.load()}}delete eZ.current[e],delete e0.current[e],delete e2.current[e]},ta=async function(){var e,t,r,n,a;let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{console.log("Client: Initializing media stream (Always request audio+video, Initial video: ".concat(s,", Initial muted: ").concat(o,")..."));let a=await navigator.mediaDevices.enumerateDevices(),l=a.filter(e=>"videoinput"===e.kind);en(l),es(a.filter(e=>"audioinput"===e.kind)),ei(a.filter(e=>"audiooutput"===e.kind));let c=await navigator.mediaDevices.getUserMedia({video:!ee||{deviceId:{exact:ee}},audio:eo?{deviceId:{exact:eo},echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),i=c.getVideoTracks()[0];i&&(i.enabled=s);let d=new(window.AudioContext||window.webkitAudioContext),u=d.createMediaStreamSource(c),m=d.createGain(),f=d.createMediaStreamDestination();m.gain.value=o?0:eh,u.connect(m),m.connect(f),eY.current=d,eK.current=m,eQ.current=u,eX.current=f;let h=f.stream.getAudioTracks()[0],g=[...c.getVideoTracks()];h&&g.push(h);let x=new MediaStream(g);eF.current&&eF.current.getTracks().forEach(e=>e.stop()),Y(c),eF.current=c,Q(s),Z(o),console.log("Client: Media stream initialized (always-on mode)."),tt(x),null==(t=eT.current)||t.emit("camera-state-changed",{roomId:P,userId:null==F||null==(e=F.user)?void 0:e.email,hasVideo:s}),null==(n=eT.current)||n.emit("mic-state-changed",{roomId:P,userId:null==F||null==(r=F.user)?void 0:r.email,isMuted:o})}catch(e){console.error("Error accessing media devices:",e),e instanceof DOMException?"NotAllowedError"===e.name?(alert("카메라/마이크 권한이 거부되었습니다. 브라우저 주소창의 자물쇠 아이콘을 클릭하여 권한을 허용해주세요."),null==(a=eT.current)||a.disconnect(),B.push("/")):"NotReadableError"===e.name?l||alert("카메라 하드웨어 오류: 장치가 응답하지 않습니다. (잠시 후 다시 시도하거나 컴퓨터를 재부팅해주세요)"):"NotFoundError"===e.name?alert("카메라/마이크를 찾을 수 없습니다. 장치가 올바르게 연결되었는지 확인해주세요."):l||alert("미디어 장치 오류: ".concat(e.message)):l||alert("미디어 장치에 접근할 수 없습니다. 알 수 없는 오류가 발생했습니다.")}},ts=()=>{var e,t,r;if(console.log("Client: Leaving room"),null==(e=eW.current)||e.stop(),null==(t=eF.current)||t.getTracks().forEach(e=>e.stop()),eY.current&&eY.current.close(),null==(r=eT.current)?void 0:r.connected){let e=setTimeout(()=>{var e;console.log("Client: Leave Ack timed out, forcing disconnect"),null==(e=eT.current)||e.disconnect(),B.push("/")},500);eT.current.emit("leave-room",{},()=>{var t;console.log("Client: Leave Ack received"),clearTimeout(e),null==(t=eT.current)||t.disconnect(),B.push("/")})}else B.push("/")};(0,a.useEffect)(()=>{eP.current&&(eP.current.scrollTop=eP.current.scrollHeight)},[eL,ez]);let to=()=>{var e;if(!ey.trim()||ey===ex)return void ew(!1);null==(e=eT.current)||e.emit("update-meeting-title",{roomId:P,title:ey}),ew(!1)},tl=J.find(e=>e.userId===eE)||J[0],tc=J.filter(e=>e.userId!==(null==tl?void 0:tl.userId)),ti=(0,a.useCallback)((e,t)=>{if(console.log("[VideoRef] Callback for ".concat(e,", el: ").concat(!!t,", src: ").concat(null==t?void 0:t.src,", srcObject: ").concat(!!(null==t?void 0:t.srcObject))),e&&t){eG.current[e]=t;let r=eq.current[e];if(r&&eZ.current[r]){let n=eZ.current[r],a=e1.current[r];if(t.src&&t.src===a&&"open"===n.readyState)return void console.log("[VideoRef] Skipping re-attach for ".concat(e,", already playing correct blob: ").concat(a));let s=t.src;if(s&&s.startsWith("blob:")&&s!==a&&(URL.revokeObjectURL(s),t.src=""),"closed"===n.readyState)return void console.warn("[VideoRef] MediaSource for ".concat(e," is closed, cleared stale src"));console.log("[VideoRef] Attaching MediaSource to ".concat(e," (readyState: ").concat(n.readyState,")"));let o=a;o||(o=URL.createObjectURL(n),e1.current[r]=o),t.src=o,t.play().catch(t=>{"AbortError"!==t.name&&console.error("[VideoRef] Autoplay failed for ".concat(e),t)})}}},[]),td=(0,a.useRef)(null),tu=(0,a.useRef)(!1),tm=(0,a.useCallback)(()=>{td.current&&clearTimeout(td.current),tu.current||(td.current=setTimeout(()=>{eV(!1)},3e3))},[]);(0,a.useEffect)(()=>(eR?tm():td.current&&clearTimeout(td.current),()=>{td.current&&clearTimeout(td.current)}),[eR,tm]);let tf=()=>{tu.current=!0,td.current&&clearTimeout(td.current)},th=()=>{tu.current=!1,eR&&tm()};return(0,n.jsxs)("div",{className:"flex flex-col h-screen bg-background text-foreground overflow-hidden relative",onClick:e=>{(e.target===e.currentTarget||e.target.closest(".participant-card"))&&eV(e=>!e)},children:[(0,n.jsxs)("div",{onMouseEnter:tf,onMouseLeave:th,className:(0,N.cn)("absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-start transition-transform duration-300",eR?"translate-y-0":"-translate-y-full"),children:[(0,n.jsxs)("div",{className:"bg-black/60 backdrop-blur-md p-2 rounded-lg text-white text-sm font-medium flex items-center gap-2",children:[ej?(0,n.jsx)(y.p,{autoFocus:!0,value:ey,onChange:e=>eN(e.target.value),onBlur:to,onKeyDown:e=>"Enter"===e.key&&to(),className:"h-6 w-48 bg-transparent border-none text-white focus-visible:ring-0 p-0"}):(0,n.jsx)("span",{onClick:()=>{ev&&(eN(ex),ew(!0))},className:(0,N.cn)(ev&&"cursor-pointer hover:underline decoration-dashed underline-offset-4"),title:ev?"Click to edit title":void 0,children:ex}),ev&&!ej&&(0,n.jsx)(d.A,{className:"w-3 h-3 text-muted-foreground cursor-pointer hover:text-white transition-colors",onClick:()=>{eN(ex),ew(!0)}}),(0,n.jsxs)("span",{className:"text-xs text-muted-foreground ml-2 border-l border-white/20 pl-2",children:["ID: ",P]})]}),(0,n.jsxs)("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1",children:[(0,n.jsxs)(i.$,{variant:"speaker"===eS?"secondary":"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>eI("speaker"),children:[(0,n.jsx)(u.A,{className:"w-4 h-4 mr-2"})," Speaker"]}),(0,n.jsxs)(i.$,{variant:"grid"===eS?"secondary":"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>eI("grid"),children:[(0,n.jsx)(m.A,{className:"w-4 h-4 mr-2"})," Gallery"]})]})]}),(0,n.jsxs)("div",{className:"flex flex-1 overflow-hidden relative",children:[(0,n.jsx)(O,{reactions:ek}),(0,n.jsx)("main",{className:(0,N.cn)("flex-1 bg-neutral-900 relative p-4 flex items-center justify-center transition-all duration-300","mr-0"),children:"speaker"===eS?(0,n.jsxs)("div",{className:"w-full h-full flex flex-col md:flex-row gap-4",children:[(0,n.jsx)("div",{className:"flex-1 relative rounded-xl overflow-hidden bg-black border border-white/10 shadow-2xl",children:tl?(0,n.jsx)(R,{participant:tl,isPinned:tl.userId===eE,className:"w-full h-full rounded-none border-0",onRemoteVideoRef:ti},tl.userId):(0,n.jsx)(R,{participant:{userId:"local",username:(null==F||null==(k=F.user)?void 0:k.name)||"Me",hasVideo:K,isMuted:X,avatar_url:(null==F||null==(C=F.user)?void 0:C.image)||void 0},isLocal:!0,localVideoOn:K,localStream:H,setLocalVideoRef:e=>{eB.current=e},className:"w-full h-full rounded-none border-0"},"local-main")}),J.length>0&&(0,n.jsxs)("div",{className:"h-32 md:h-full md:w-48 lg:w-64 flex md:flex-col gap-2 overflow-x-auto md:overflow-y-auto scrollbar-hide",children:[tl&&(0,n.jsx)(R,{participant:{userId:"local",username:(null==F||null==(I=F.user)?void 0:I.name)||"Me",hasVideo:K,isMuted:X,avatar_url:(null==F||null==(E=F.user)?void 0:E.image)||void 0},isLocal:!0,localVideoOn:K,localStream:H,setLocalVideoRef:e=>{eB.current=e},className:"min-w-[160px] md:min-w-0 md:h-32 lg:h-40 aspect-video flex-shrink-0"}),tc.map(e=>(0,n.jsx)(R,{participant:e,isPinned:e.userId===eE,className:"min-w-[160px] md:min-w-0 md:h-32 lg:h-40 aspect-video flex-shrink-0",onRemoteVideoRef:ti},e.userId))]})]}):(0,n.jsxs)("div",{className:(0,N.cn)("w-full h-full grid gap-4 p-4 overflow-y-auto auto-rows-fr",J.length+1<=1?"grid-cols-1":J.length+1<=2?"grid-cols-1 md:grid-cols-2":J.length+1<=4?"grid-cols-2":J.length+1<=9?"grid-cols-2 md:grid-cols-3":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4"),children:[(0,n.jsx)(R,{participant:{userId:"local",username:(null==F||null==(M=F.user)?void 0:M.name)||"Me",hasVideo:K,isMuted:X,avatar_url:(null==F||null==(V=F.user)?void 0:V.image)||void 0},isLocal:!0,localVideoOn:K,localStream:H,isMuted:X,setLocalVideoRef:e=>{eB.current=e}}),J.map(e=>(0,n.jsx)(R,{participant:e,isPinned:e.userId===eE,onPin:e=>eM(eE===e?null:e),onRemoteVideoRef:ti},e.userId))]})}),ez&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>eD(!1)}),(0,n.jsx)("div",{className:(0,N.cn)("fixed inset-x-0 bottom-0 z-50 bg-background border-t border-border transition-transform duration-300 ease-in-out md:relative md:inset-auto md:border-l md:border-t-0 md:w-80 md:translate-y-0 flex flex-col shadow-2xl md:shadow-none rounded-t-2xl md:rounded-none overflow-hidden",ez?"translate-y-0 h-[60vh] md:h-auto":"translate-y-full h-0 md:h-auto md:hidden md:w-0"),children:(0,n.jsx)(S,{messages:eL,currentUserId:(null==F||null==(T=F.user)?void 0:T.id)||(null==F||null==(D=F.user)?void 0:D.email),newMessage:eU,onNewMessageChange:e$,onSendMessage:e=>{if(null==e||e.preventDefault(),console.log("[ChatDebug] sendMessage called. Message:",eU),!eU.trim())return void console.log("[ChatDebug] Message is empty");if(!eT.current)return void console.error("[ChatDebug] Socket not connected");if(!eT.current.connected){console.error("[ChatDebug] Socket instance exists but is disconnected"),alert("서버와 연결이 끊겨있습니다. 잠시 후 다시 시도해주세요.");return}console.log("[ChatDebug] Emitting chat-message to room:",P),eT.current.emit("chat-message",{roomId:P,message:eU}),e$("")},onClose:()=>eD(!1)})})]}),(0,n.jsxs)("div",{onMouseEnter:tf,onMouseLeave:th,className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 hidden md:flex flex-col items-center gap-4",style:{bottom:eR?"80px":"20px"},children:[eR&&(0,n.jsx)(A,{onReaction:e=>{var t;null==(t=eT.current)||t.emit("send-reaction",{roomId:P,emoji:e})}}),(0,n.jsx)(i.$,{variant:"secondary",size:"sm",className:"rounded-full shadow-lg bg-background/80 backdrop-blur-sm border hover:bg-background",onClick:()=>eV(!eR),children:eR?(0,n.jsx)(f.A,{className:"w-4 h-4"}):(0,n.jsx)(h.A,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{className:(0,N.cn)("fixed bottom-0 left-0 right-0 h-20 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t z-40 transition-transform duration-300 ease-in-out flex items-center justify-center space-x-4",eR?"translate-y-0":"translate-y-full"),children:[(0,n.jsx)(i.$,{variant:X?"destructive":"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:()=>{var e;if(!eK.current)return void console.warn("GainNode not available. Media stream not initialized.");let t=!X;Z(t),eK.current.gain.value=t?0:eh,null==(e=eT.current)||e.emit("mic-state-changed",{roomId:P,userId:G,isMuted:t})},children:X?(0,n.jsx)(g.A,{className:"w-5 h-5"}):(0,n.jsx)(x.A,{className:"w-5 h-5"})}),(0,n.jsx)(i.$,{variant:K?"secondary":"destructive",size:"icon",className:"rounded-full w-12 h-12",onClick:()=>{var e,t;console.log("[toggleCamera] Called");let r=null==(e=eF.current)?void 0:e.getVideoTracks()[0];if(!r)return void console.warn("[toggleCamera] No video track available. Media stream not initialized.");console.log("[toggleCamera] Current enabled: ".concat(r.enabled,", localVideoOn: ").concat(K)),r.enabled=!r.enabled,Q(r.enabled),console.log("[toggleCamera] New enabled: ".concat(r.enabled,", will set localVideoOn to: ").concat(r.enabled)),null==(t=eT.current)||t.emit("camera-state-changed",{roomId:P,userId:G,hasVideo:r.enabled}),console.log("[toggleCamera] Emitted camera-state-changed: roomId=".concat(P,", userId=").concat(G,", hasVideo=").concat(r.enabled))},children:K?(0,n.jsx)(p.A,{className:"w-5 h-5"}):(0,n.jsx)(v.A,{className:"w-5 h-5"})}),(0,n.jsx)(i.$,{variant:"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:()=>e9(!0),children:(0,n.jsx)(b.A,{className:"w-5 h-5"})}),(0,n.jsx)(i.$,{variant:"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:()=>eO(!0),children:(0,n.jsx)(j.A,{className:"w-5 h-5"})}),(0,n.jsx)(i.$,{variant:ez?"default":"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:()=>eD(!ez),children:(0,n.jsx)(w.A,{className:"w-5 h-5"})}),(0,n.jsx)("div",{className:"w-px h-8 bg-border mx-2"}),(0,n.jsx)(i.$,{variant:"destructive",className:"rounded-full px-6 h-12 font-semibold bg-red-600 hover:bg-red-700",onClick:()=>{e7?ts():e8(!0)},children:"End Call"})]}),eA&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",onClick:()=>eO(!1),children:(0,n.jsxs)("div",{className:"bg-card p-6 rounded-xl shadow-2xl w-full max-w-md m-4 border max-h-[80vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsxs)("h3",{className:"text-xl font-bold",children:["Participants (",J.length+1,")"]}),(0,n.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>eO(!1),children:"Close"})]}),(0,n.jsxs)("div",{className:"overflow-y-auto flex-1 space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-secondary/50",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold",children:(null==F||null==(U=F.user)||null==(_=U.name)||null==(L=_[0])?void 0:L.toUpperCase())||"ME"}),(0,n.jsxs)("span",{className:"font-medium",children:[(null==F||null==($=F.user)?void 0:$.name)||"Me"," (You)"]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[X?(0,n.jsx)(g.A,{className:"w-4 h-4 text-red-500"}):(0,n.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),K?(0,n.jsx)(p.A,{className:"w-4 h-4 text-green-500"}):(0,n.jsx)(v.A,{className:"w-4 h-4 text-red-500"})]})]}),J.map(e=>{var t,r;return(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-secondary/30",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[e.avatar_url?(0,n.jsx)(c.default,{src:e.avatar_url,alt:e.username,width:32,height:32,className:"rounded-full object-cover"}):(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-xs font-bold",children:null==(r=e.username)||null==(t=r[0])?void 0:t.toUpperCase()}),(0,n.jsx)("span",{className:"font-medium",children:e.username})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[e.isMuted?(0,n.jsx)(g.A,{className:"w-4 h-4 text-red-500"}):(0,n.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),e.hasVideo?(0,n.jsx)(p.A,{className:"w-4 h-4 text-green-500"}):(0,n.jsx)(v.A,{className:"w-4 h-4 text-red-500"})]})]},e.userId)})]})]})}),e6&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",onClick:()=>e9(!1),children:(0,n.jsxs)("div",{className:"bg-card p-6 rounded-xl shadow-2xl w-full max-w-md m-4 border",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h3",{className:"text-xl font-bold",children:"Settings"}),(0,n.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>e9(!1),children:"Close"})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Camera"}),(0,n.jsx)("select",{className:"w-full p-2 border rounded-md bg-secondary",value:ee||"",onChange:e=>et(e.target.value),children:er.map(e=>(0,n.jsx)("option",{value:e.deviceId,children:e.label||"Camera ".concat(e.deviceId)},e.deviceId))})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Microphone"}),(0,n.jsx)("select",{className:"w-full p-2 border rounded-md bg-secondary",value:eo||"",onChange:e=>el(e.target.value),children:ea.map(e=>(0,n.jsx)("option",{value:e.deviceId,children:e.label||"Microphone ".concat(e.deviceId)},e.deviceId))})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Speaker"}),(0,n.jsx)("select",{className:"w-full p-2 border rounded-md bg-secondary",value:ed||"",onChange:e=>eu(e.target.value),children:ec.map(e=>(0,n.jsx)("option",{value:e.deviceId,children:e.label||"Speaker ".concat(e.deviceId)},e.deviceId))})]}),(0,n.jsxs)("div",{className:"w-full flex items-center space-x-2 pt-2",children:[(0,n.jsx)("span",{title:"Mic Volume",children:"\uD83C\uDFA4"}),(0,n.jsx)("input",{type:"range",min:"0",max:"3",step:"0.1",value:eh,onChange:e=>eg(parseFloat(e.target.value)),className:"w-full h-2 bg-muted-foreground rounded-lg appearance-none cursor-pointer"}),(0,n.jsxs)("span",{className:"text-xs w-8 text-right",children:[(100*eh).toFixed(0),"%"]})]}),(0,n.jsxs)("div",{className:"w-full flex items-center space-x-2 pt-2",children:[(0,n.jsx)("span",{title:"Speaker Volume",children:"\uD83D\uDD0A"}),(0,n.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:em,onChange:e=>ef(parseFloat(e.target.value)),className:"w-full h-2 bg-muted-foreground rounded-lg appearance-none cursor-pointer"}),(0,n.jsxs)("span",{className:"text-xs w-8 text-right",children:[(100*em).toFixed(0),"%"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:"Exit Immediately"}),(0,n.jsx)("input",{type:"checkbox",className:"w-5 h-5",checked:e7,onChange:e=>{let t=e.target.checked;te(t),localStorage.setItem("exitImmediately",String(t))}})]}),(0,n.jsx)(i.$,{className:"w-full mt-4",onClick:()=>{navigator.clipboard.writeText(window.location.href),e5(!0),setTimeout(()=>{e5(!1)},2e3)},children:e4?"Link Copied!":"Copy Meeting Link"})]})]})}),e3&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-card p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Leave Meeting?"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-6",children:"Are you sure you want to leave this meeting?"}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,n.jsx)(i.$,{variant:"outline",onClick:()=>e8(!1),children:"Cancel"}),(0,n.jsx)(i.$,{variant:"destructive",onClick:ts,children:"Leave Meeting"})]})]})})]})}},4600:(e,t,r)=>{Promise.resolve().then(r.bind(r,2051))},5250:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(9697),a=r(4673);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},7493:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(284),a=r(5232),s=r(2968),o=r(6969),l=r(5250);let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:i=!1,...d}=e,u=i?s.DX:"button";return(0,n.jsx)(u,{className:(0,l.cn)(c({variant:a,size:o,className:r})),ref:t,...d})});i.displayName="Button"}},e=>{e.O(0,[618,722,149,132,582,30,358],()=>e(e.s=4600)),_N_E=e.O()}]);